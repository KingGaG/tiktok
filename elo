--[[
Grow a Garden Fruit Stealer (Delta Executor version)
- Klientowy skrypt do kradzieży owoców z bliska (5 studów)
- Dodaje wizualny pasek inventory z ikonami owoców
- Wymaga, żeby owoce miały tag "Fruit" (można dodać ręcznie)
--]]

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local mouse = player:GetMouse()
local RunService = game:GetService("RunService")
local CollectionService = game:GetService("CollectionService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Sprawdź RemoteEvent (jeśli nie ma, stwórz fikcyjny - exploit będzie client-only)
local stealEvent = ReplicatedStorage:FindFirstChild("StealFruitEvent")
if not stealEvent then
    stealEvent = Instance.new("RemoteEvent")
    stealEvent.Name = "StealFruitEvent"
    stealEvent.Parent = ReplicatedStorage
end

-- Twoje "inventory" - przechowujemy owoce client-side
local inventoryFolder = Instance.new("Folder")
inventoryFolder.Name = "Inventory"
inventoryFolder.Parent = player

-- UI: prosty pasek inventory
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "InventoryUI"

local padding = 10
local iconSize = 50

local function updateInventoryUI()
    screenGui:ClearAllChildren()

    local xPos = padding
    for _, fruit in pairs(inventoryFolder:GetChildren()) do
        local icon = Instance.new("ImageLabel")
        icon.Name = fruit.Name
        icon.Size = UDim2.new(0, iconSize, 0, iconSize)
        icon.Position = UDim2.new(0, xPos, 0, padding)
        icon.BackgroundTransparency = 1
        icon.Image = "rbxassetid://6031094678" -- ikona jabłka jako placeholder
        icon.Parent = screenGui

        xPos = xPos + iconSize + padding
    end
end

-- Funkcja do dodania owocu do inventory (wizualizacja)
local function addFruitToInventory(fruitName)
    local newFruit = Instance.new("Part")
    newFruit.Name = fruitName
    newFruit.Size = Vector3.new(2, 2, 2)
    newFruit.Anchored = true
    newFruit.BrickColor = BrickColor.Random()
    newFruit.Parent = inventoryFolder

    updateInventoryUI()
end

-- Funkcja "kradzieży" owocu client-side
local function stealFruit(fruit)
    local character = player.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then return end

    local hrp = character.HumanoidRootPart
    if (fruit.Position - hrp.Position).Magnitude > 5 then
        print("Za daleko od owocu")
        return
    end

    -- Usuń owoc lokalnie (klient) - z Workspace (symulacja zniknięcia)
    if fruit and fruit.Parent then
        fruit:Destroy()
    end

    -- Dodaj do swojego clientowego inventory i UI
    addFruitToInventory(fruit.Name)

    print("Ukradłeś owoc: "..fruit.Name)
end

-- Kliknięcie na owoc
mouse.Button1Down:Connect(function()
    local target = mouse.Target
    if target and CollectionService:HasTag(target, "Fruit") then
        stealFruit(target)
    end
end)

print("Grow a Garden Fruit Stealer uruchomiony (Delta Executor).")
