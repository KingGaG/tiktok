local Spawner = loadstring(game:HttpGet("https://codeberg.org/GrowAFilipino/GrowAGarden/raw/branch/main/Spawner.lua"))()

-- Usuwanie poprzedniego GUI, jeśli jest
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local existingGui = playerGui:FindFirstChild("PetCopyGui")
if existingGui then
    existingGui:Destroy()
end

-- Tworzenie GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "PetCopyGui"
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false  -- Dzięki temu GUI nie zniknie po respawnie

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 180, 0, 90)
frame.Position = UDim2.new(0.5, -90, 0.5, -45)
frame.BackgroundColor3 = Color3.fromRGB(40, 130, 220)
frame.BackgroundTransparency = 0
frame.BorderSizePixel = 0
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.Parent = screenGui
frame.ClipsDescendants = true
frame.Name = "MainFrame"

-- Zaokrąglone rogi
local uicorner = Instance.new("UICorner")
uicorner.CornerRadius = UDim.new(0, 15)
uicorner.Parent = frame

-- Mały napis u góry
local topLabel = Instance.new("TextLabel")
topLabel.Size = UDim2.new(1, 0, 0, 15)
topLabel.Position = UDim2.new(0, 0, 0, 5)
topLabel.BackgroundTransparency = 1
topLabel.Text = "PetCopy script - 1.0.0"
topLabel.Font = Enum.Font.GothamSemibold
topLabel.TextSize = 13
topLabel.TextColor3 = Color3.fromRGB(220, 220, 220)
topLabel.Parent = frame

-- Główny przycisk
local button = Instance.new("TextButton")
button.Size = UDim2.new(1, -40, 0, 40)
button.Position = UDim2.new(0, 20, 0, 25)
button.BackgroundColor3 = Color3.fromRGB(255, 165, 0) -- Pomarańczowy
button.AutoButtonColor = false
button.Text = "Copy"
button.Font = Enum.Font.GothamBold
button.TextSize = 20
button.TextColor3 = Color3.fromRGB(30, 30, 30)
button.Parent = frame
button.Name = "CopyButton"

local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 12)
buttonCorner.Parent = button

-- Napis na dole
local bottomLabel = Instance.new("TextLabel")
bottomLabel.Size = UDim2.new(1, 0, 0, 15)
bottomLabel.Position = UDim2.new(0, 0, 1, -20)
bottomLabel.BackgroundTransparency = 1
bottomLabel.Text = "Made by KingGaG"
bottomLabel.Font = Enum.Font.GothamMedium
bottomLabel.TextSize = 13
bottomLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
bottomLabel.Parent = frame

-- Animacja hover
local TweenService = game:GetService("TweenService")

local hoverInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local tweenHover = TweenService:Create(button, hoverInfo, {BackgroundColor3 = Color3.fromRGB(255, 195, 50)})
local tweenUnhover = TweenService:Create(button, hoverInfo, {BackgroundColor3 = Color3.fromRGB(255, 165, 0)})

button.MouseEnter:Connect(function()
    tweenHover:Play()
end)
button.MouseLeave:Connect(function()
    tweenUnhover:Play()
end)

-- Animacja kliknięcia (skala)
button.MouseButton1Down:Connect(function()
    local clickDownTween = TweenService:Create(button, TweenInfo.new(0.1), {Size = UDim2.new(1, -44, 0, 36), Position = UDim2.new(0, 22, 0, 27)})
    clickDownTween:Play()
end)
button.MouseButton1Up:Connect(function()
    local clickUpTween = TweenService:Create(button, TweenInfo.new(0.1), {Size = UDim2.new(1, -40, 0, 40), Position = UDim2.new(0, 20, 0, 25)})
    clickUpTween:Play()
end)

-- Kliknięcie przycisku
button.MouseButton1Click:Connect(function()
    button.Text = "Copied!"
    Spawner.SpawnPet("Dragonfly", 1, 1)
    wait(1.5)
    button.Text = "Copy"
end)

-- Możliwość przesuwania GUI (dragging)
local dragging
local dragInput
local dragStart
local startPos

local function update(input)
    local delta = input.Position - dragStart
    frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                              startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = frame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

frame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)
